创建红包：用户可以创建红包，指定红包总金额和红包个数。代码会检查红包个数是否超过最大限制（10000个），以及总金额和红包个数是否大于0。然后，检查创建红包的用户的vFCC余额是否足够支付红包总金额，如果不足，返回错误提示。如果余额足够，从创建红包用户的vFCC余额中扣除红包总金额。

抢红包：用户可以抢红包。首先检查红包是否还有剩余，如果没有剩余，返回错误提示。然后检查用户是否已经抢过这个红包，如果已经抢过，返回错误提示。如果用户还未抢过红包，根据红包总金额和红包个数计算每个红包的金额。然后，将红包金额添加到抢红包用户的vFCC余额中，并记录用户已经抢过这个红包。最后，更新红包的剩余金额和剩余个数。

注意：这个代码示例仅为基本实现，可能需要根据实际项目需求进行调整和优化。此外，代码示例中省略了与数据库的连接和错误处理部分，实际项目中需要处理这些问题。